<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>å»å“ªç©åƒä»€éº¼ï½œæ„›åƒç†Šæ¨è–¦</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      margin: 0;
      padding: 0;
      background: #fff3d8;
      font-family: "Noto Sans TC", -apple-system, BlinkMacSystemFont, sans-serif;
    }

    .app-wrap {
      max-width: 480px;
      margin: 0 auto;
      padding: 16px;
    }

    .card {
      background: #fffbf2;
      border-radius: 18px;
      border: 2px solid #f0c57a;
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
      padding: 16px;
      position: relative;
    }

    .banner {
      border-radius: 16px;
      overflow: hidden;
      margin-bottom: 12px;
      border: 2px solid #f0c57a;
    }

    .banner img {
      display: block;
      width: 100%;
      height: auto;
    }

    .title-text h1 {
      margin: 6px 0 0;
      font-size: 20px;
      color: #7a4329;
      text-align: center;
    }

    .title-text p {
      margin: 4px auto 10px;
      font-size: 13px;
      color: #9b5b36;
      text-align: center;
    }

    /* ç†Šç†Šæ°£æ³¡ï¼ˆé»æ“Šæ›ä¸€å¥è©±ï¼‰ */
    .bubble {
      position: relative;
      margin-top: 4px;
      background: #fff;
      border-radius: 14px;
      padding: 10px 12px;
      border: 2px solid #f7cfa4;
      font-size: 13px;
      color: #6a3b3b;
      cursor: pointer;
    }
    .bubble::after {
      content: "";
      position: absolute;
      left: 26px;
      top: 100%;
      border-width: 8px;
      border-style: solid;
      border-color: #f7cfa4 transparent transparent transparent;
    }
    .bubble::before {
      content: "";
      position: absolute;
      left: 27px;
      top: calc(100% - 2px);
      border-width: 8px;
      border-style: solid;
      border-color: #fff transparent transparent transparent;
    }

    /* åˆ†é  tab */
    .tabs {
      margin-top: 14px;
      display: flex;
      background: #ffe6c5;
      padding: 4px;
      border-radius: 999px;
      gap: 4px;
    }

    .tab-btn {
      flex: 1;
      border-radius: 999px;
      border: none;
      padding: 8px 0;
      font-size: 14px;
      background: transparent;
      color: #9b5b36;
      cursor: pointer;
      font-weight: 600;
      transition: 0.15s ease;
    }

    .tab-btn.active {
      background: #ffffff;
      color: #7a4329;
      box-shadow: 0 3px 8px rgba(0,0,0,0.12);
    }

    .tab-panel {
      margin-top: 12px;
      display: none;
    }

    .tab-panel.active {
      display: block;
    }

    .section-title {
      margin: 12px 0 6px;
      font-size: 15px;
      color: #7a4329;
      font-weight: 700;
    }

    /* å€åŸŸæŒ‰éˆ•åˆ— */
    .chip-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .chip {
      padding: 6px 12px;
      border-radius: 999px;
      border: 1.5px solid #f1c288;
      font-size: 13px;
      background: #fffaf1;
      color: #8b4a33;
      cursor: pointer;
      transition: transform 0.1s ease, box-shadow 0.1s ease, background 0.1s ease;
    }
    .chip span {
      margin-right: 4px;
    }
    .chip.active {
      background: #ffcf84;
      color: #5c321c;
      box-shadow: 0 2px 6px rgba(0,0,0,0.15);
      transform: translateY(-1px);
      border-color: #e39743;
    }

    /* å¤©æ•¸é¸æ“‡ï¼ˆæ—…éŠç”¨ï¼‰ */
    .days-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    .day-chip {
      padding: 6px 10px;
      border-radius: 999px;
      border: 1.5px solid #e2b28c;
      font-size: 13px;
      background: #fff;
      color: #74412c;
      cursor: pointer;
      transition: 0.1s ease;
    }
    .day-chip.active {
      background: #ffd79a;
      color: #4b2612;
      border-color: #d28f5d;
      box-shadow: 0 2px 5px rgba(0,0,0,0.13);
      transform: translateY(-1px);
    }

    /* æŠ½ç±¤æŒ‰éˆ• & è¨ˆæ•¸ */
    .action-wrap {
      margin-top: 14px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }
    .btn-main {
      flex: 1;
      border: none;
      border-radius: 999px;
      padding: 10px 16px;
      background: linear-gradient(135deg, #ffb86b, #ff9b73);
      color: #fff;
      font-weight: 700;
      font-size: 15px;
      letter-spacing: 1px;
      box-shadow: 0 4px 12px rgba(255,140,82,0.45);
      cursor: pointer;
      transition: transform 0.1s ease, box-shadow 0.1s ease;
    }
    .btn-main:active {
      transform: translateY(1px);
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    }

    .counter-pill {
      font-size: 12px;
      color: #9b5b36;
      background: #ffe8c9;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px dashed #e0a86b;
      display: inline-flex;
      align-items: center;
      gap: 4px;
      white-space: nowrap;
    }
    .counter-pill span {
      font-size: 15px;
    }

    /* +1 å‹•ç•«å­—æ¨£ï¼ˆé€šç”¨ï¼‰ */
    .plus-one {
      position: absolute;
      right: 24px;
      bottom: 48px;
      font-size: 16px;
      color: #ff7b59;
      font-weight: 700;
      opacity: 0;
      transform: translateY(8px);
      pointer-events: none;
    }
    .plus-one.show {
      animation: riseFade 0.9s ease-out forwards;
    }
    @keyframes riseFade {
      0% { opacity: 0; transform: translateY(8px); }
      20% { opacity: 1; }
      100% { opacity: 0; transform: translateY(-20px); }
    }

    /* çµæœå¡ç‰‡ */
    .result-card {
      margin-top: 14px;
      background: #fff7ea;
      border-radius: 18px;
      border: 2px solid #f3c690;
      padding: 14px;
      box-shadow: 0 5px 14px rgba(0,0,0,0.18);
    }
    .result-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-bottom: 6px;
      gap: 8px;
    }
    .result-header h2 {
      margin: 0;
      font-size: 18px;
      color: #7a4329;
    }
    .badge-region {
      font-size: 12px;
      background: #ffe0b5;
      border-radius: 999px;
      padding: 4px 8px;
      color: #6b3a25;
    }
    .result-meta {
      font-size: 13px;
      color: #8b5a3a;
      margin-bottom: 4px;
    }
    .tag-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-bottom: 8px;
    }
    .tag {
      font-size: 11px;
      padding: 4px 8px;
      border-radius: 999px;
      background: #ffeedd;
      color: #8b4a33;
    }
    .bear-tip-title {
      font-size: 13px;
      font-weight: 700;
      color: #7a4329;
      margin-top: 4px;
      margin-bottom: 4px;
    }
    .bear-tip-text {
      font-size: 13px;
      color: #6a3b3b;
      line-height: 1.6;
      white-space: pre-line;
    }

    /* ç­‰å¾…å‹•ç•« */
    .loading {
      margin-top: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      font-size: 13px;
      color: #9b5b36;
    }
    .dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: #ff9f6b;
      animation: bounce 0.8s infinite alternate;
    }
    .dot:nth-child(2) { animation-delay: 0.15s; }
    .dot:nth-child(3) { animation-delay: 0.3s; }
    @keyframes bounce {
      from { transform: translateY(0); opacity: 0.5; }
      to { transform: translateY(-6px); opacity: 1; }
    }

    /* æ­·å²ç´€éŒ„ */
    .history-card {
      margin-top: 12px;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1.5px dashed #e0b88d;
      background: #fffaf3;
      max-height: 120px;
      overflow-y: auto;
      font-size: 12px;
      color: #7a4329;
    }
    .history-item {
      padding: 6px 0;
      border-bottom: 1px dashed #f1d4aa;
    }
    .history-item:last-child {
      border-bottom: none;
    }
    .history-item-title {
      font-weight: 700;
      margin-bottom: 2px;
    }
    .history-item-meta {
      font-size: 11px;
      color: #9b5b36;
    }
    .history-empty {
      font-size: 12px;
      color: #b08a62;
    }

    @media (max-width: 360px) {
      .title-text h1 { font-size: 18px; }
    }
  </style>
</head>
<body>
  <div class="app-wrap">
    <div class="card">
      <!-- å°é¢åœ–ï¼štravel.png -->
      <div class="banner">
        <!-- å¦‚æœåœ–ç‰‡ä¸åœ¨ images/ åº•ä¸‹ï¼Œè«‹æ”¹è·¯å¾‘ -->
        <img src="images/travel.png" alt="æ„›åƒç†Šå°ç£å‡ºéŠ">
      </div>

      <div class="title-text">
        <h1>å»å“ªç©åƒä»€éº¼</h1>
        <p>è®“æ„›åƒç†Šå¹«ä½ æŠ½å‡ºä»Šå¤©çš„æ—…éŠç±¤ & ç¾é£Ÿç±¤ ğŸ±ğŸ§³</p>
      </div>

      <div class="bubble" id="bubble">
        ğŸ» é»æˆ‘ä¸€ä¸‹ï¼Œè½è½ä»Šå¤©æ„›åƒç†Šçš„å°æç¤ºï½
      </div>

      <!-- åˆ†é åˆ‡æ› -->
      <div class="tabs">
        <button class="tab-btn active" data-tab="travel">æŠ½æ—…éŠç±¤ ğŸ§³</button>
        <button class="tab-btn" data-tab="food">æŠ½ç¾é£Ÿç±¤ ğŸ™</button>
      </div>

      <!-- æ—…éŠç±¤ Panel -->
      <div class="tab-panel active" id="panel-travel">
        <div class="section-title">1ï¸âƒ£ æƒ³å»å“ªä¸€å¸¶ç©ï¼Ÿ</div>
        <div class="chip-row" id="regionChipsTravel">
          <button class="chip active" data-region="all"><span>ğŸ²</span>å…¨å°éš¨æ©Ÿ</button>
          <button class="chip" data-region="north"><span>ğŸ»</span>åŒ—éƒ¨</button>
          <button class="chip" data-region="central"><span>ğŸŒ¾</span>ä¸­éƒ¨</button>
          <button class="chip" data-region="south"><span>ğŸŒ´</span>å—éƒ¨</button>
          <button class="chip" data-region="east"><span>ğŸï¸</span>æ±éƒ¨</button>
          <button class="chip" data-region="islands"><span>ğŸŒŠ</span>å¤–å³¶</button>
        </div>

        <div class="section-title">2ï¸âƒ£ æƒ³ç©å¹¾å¤©å‘¢ï¼Ÿ</div>
        <div class="days-row" id="daysRowTravel">
          <button class="day-chip active" data-days="1">1 å¤©å°æ•£æ­¥</button>
          <button class="day-chip" data-days="2">2 å¤©è¼•æ—…è¡Œ</button>
          <button class="day-chip" data-days="3">3 å¤©å°åº¦å‡</button>
          <button class="day-chip" data-days="4">4 å¤©ä»¥ä¸Šé•·ä¸€é»</button>
          <button class="day-chip" data-days="auto">ä¸çŸ¥é“ï¼Œè«‹æ„›åƒç†Šæ±ºå®š</button>
        </div>

        <div class="action-wrap">
          <button class="btn-main" id="drawTravelBtn">å¹«æˆ‘æŠ½æ—…éŠéˆæ„Ÿ âœ¨</button>
          <div class="counter-pill">
            <span>ğŸ“</span>
            ä»Šæ—¥æ—…éŠç±¤ <span id="countTravel">0</span> æ¬¡
          </div>
        </div>

        <div class="loading" id="loadingTravel" style="display:none;">
          æ„›åƒç†Šç¿»æ‰¾æ—…éŠé»å­ä¸­â€¦
          <div class="dot"></div><div class="dot"></div><div class="dot"></div>
        </div>

        <div class="result-card" id="resultTravel" style="display:none;">
          <div class="result-header">
            <h2 id="travelName">æ™¯é»åç¨±</h2>
            <div class="badge-region" id="travelRegion">åœ°å€</div>
          </div>
          <div class="result-meta" id="travelCity"></div>
          <div class="result-meta" id="travelDays"></div>
          <div class="tag-row" id="travelTags"></div>
          <div class="bear-tip-title">ğŸ» æ„›åƒç†Šæš–å¿ƒæé†’</div>
          <div class="bear-tip-text" id="travelTip"></div>
        </div>

        <div class="history-card">
          <div style="font-weight:700; margin-bottom:4px;">ğŸ“ æœ€è¿‘ 3 æ¬¡æ—…éŠéˆæ„Ÿ</div>
          <div id="historyTravel" class="history-empty">
            é‚„æ²’æœ‰ç´€éŒ„ï¼Œå…ˆè®“æ„›åƒç†Šå¹«ä½ æŠ½ä¸€å¼µæ—…éŠç±¤å§ï½
          </div>
        </div>
      </div>

      <!-- ç¾é£Ÿç±¤ Panel -->
      <div class="tab-panel" id="panel-food">
        <div class="section-title">1ï¸âƒ£ æƒ³åƒå“ªä¸€å¸¶çš„ç¾é£Ÿï¼Ÿ</div>
        <div class="chip-row" id="regionChipsFood">
          <button class="chip active" data-region="all"><span>ğŸ²</span>å…¨å°éš¨æ©Ÿ</button>
          <button class="chip" data-region="north"><span>ğŸœ</span>åŒ—éƒ¨</button>
          <button class="chip" data-region="central"><span>ğŸ°</span>ä¸­éƒ¨</button>
          <button class="chip" data-region="south"><span>ğŸ¢</span>å—éƒ¨</button>
          <button class="chip" data-region="east"><span>ğŸ±</span>æ±éƒ¨</button>
          <button class="chip" data-region="islands"><span>ğŸ¦</span>å¤–å³¶</button>
        </div>

        <div class="action-wrap">
          <button class="btn-main" id="drawFoodBtn">å¹«æˆ‘æŠ½ç¾é£Ÿç±¤ ğŸ˜‹</button>
          <div class="counter-pill">
            <span>ğŸ´</span>
            ä»Šæ—¥ç¾é£Ÿç±¤ <span id="countFood">0</span> æ¬¡
          </div>
        </div>

        <div class="loading" id="loadingFood" style="display:none;">
          æ„›åƒç†Šåœ¨æƒ³ä»Šå¤©è¦åƒä»€éº¼â€¦
          <div class="dot"></div><div class="dot"></div><div class="dot"></div>
        </div>

        <div class="result-card" id="resultFood" style="display:none;">
          <div class="result-header">
            <h2 id="foodName">ç¾é£Ÿä¸»é¡Œ</h2>
            <div class="badge-region" id="foodRegion">åœ°å€</div>
          </div>
          <div class="result-meta" id="foodCity"></div>
          <div class="tag-row" id="foodTags"></div>
          <div class="bear-tip-title">ğŸ» æ„›åƒç†Šå°æé†’</div>
          <div class="bear-tip-text" id="foodTip"></div>
        </div>

        <div class="history-card">
          <div style="font-weight:700; margin-bottom:4px;">ğŸ“ æœ€è¿‘ 3 æ¬¡ç¾é£Ÿéˆæ„Ÿ</div>
          <div id="historyFood" class="history-empty">
            é‚„æ²’æœ‰ç´€éŒ„ï¼Œè®“æ„›åƒç†Šå…ˆå¹«ä½ æŠ½ä¸€å¼µç¾é£Ÿç±¤å§ï½
          </div>
        </div>
      </div>

      <!-- é€šç”¨ +1 å‹•ç•« -->
      <div class="plus-one" id="plusOne">+1 âœ¨</div>
    </div>
  </div>

  <script>
    // æ—…éŠæ™¯é»è³‡æ–™
    const attractions = [
      // åŒ—éƒ¨
      {
        name: "ä¹ä»½è€è¡— & é‡‘ç“œçŸ³å±±åŸ",
        region: "north", regionLabel: "åŒ—éƒ¨",
        city: "æ–°åŒ—å¸‚ç‘èŠ³å€",
        minDays: 1, maxDays: 2,
        tags: ["å±±åŸå··å¼„", "è€è¡—ç¾é£Ÿ", "å¤œæ™¯"],
        tip: "å»ºè­°å…ˆåˆ°é‡‘ç“œçŸ³èµ°èµ°ï¼Œå†å‚æ™šä¸Šä¹ä»½åƒæ™šé¤çœ‹å¤œæ™¯ã€‚å±±ä¸Šæº«å·®å¤§ï¼Œå¯ä»¥å¸¶ä»¶è–„å¤–å¥—å–”ã€‚"
      },
      {
        name: "é™½æ˜å±±åœ‹å®¶å…¬åœ’",
        region: "north", regionLabel: "åŒ—éƒ¨",
        city: "å°åŒ—å¸‚åŒ—æŠ•å€",
        minDays: 1, maxDays: 2,
        tags: ["è³èŠ±æ­¥é“", "æº«æ³‰", "è¿‘éƒŠæ•£æ­¥"],
        tip: "å¯ä»¥æ’ä¸€æ—¥ï¼šæ—©ä¸Šæ­¥é“æ•£æ­¥ï¼Œä¸‹åˆæ³¡æº«æ³‰ã€åƒç«é‹ã€‚é‹å­é¸å¥½èµ°çš„ï¼Œè®“è…³ä¹Ÿä¸€èµ·åº¦å‡ã€‚"
      },
      {
        name: "æ·¡æ°´ & æ¼äººç¢¼é ­",
        region: "north", regionLabel: "åŒ—éƒ¨",
        city: "æ–°åŒ—å¸‚æ·¡æ°´å€",
        minDays: 1, maxDays: 1,
        tags: ["æ²³å²¸å¤•é™½", "è€è¡—ç¾é£Ÿ", "è¼•é¬†æ•£æ­¥"],
        tip: "ä¸‹åˆåˆ°æ·¡æ°´ï¼Œé‚Šæ•£æ­¥é‚Šåƒå°åƒï¼Œçœ‹å¤•é™½æ…¢æ…¢è®Šè‰²ï¼Œè®“å¿ƒæƒ…ä¹Ÿè·Ÿè‘—æ”¾é¬†ä¸‹ä¾†ã€‚"
      },

      // ä¸­éƒ¨
      {
        name: "æ—¥æœˆæ½­ç’°æ¹–å°æ—…è¡Œ",
        region: "central", regionLabel: "ä¸­éƒ¨",
        city: "å—æŠ•ç¸£é­šæ± é„‰",
        minDays: 2, maxDays: 3,
        tags: ["æ¹–æ™¯å–®è»Š", "çºœè»Š", "æ…¢æ´»åº¦å‡"],
        tip: "å¯ä»¥ç§Ÿè…³è¸è»Šæ…¢æ…¢ç’°æ¹–ï¼Œæ­é…èˆ¹ç¥¨èˆ‡çºœè»Šï¼Œä¸€æ¬¡æ”¶é›†ä¸ä¸€æ¨£çš„æ—¥æœˆæ½­é¢¨æ™¯ã€‚è¡Œæè¶Šè¼•ï¼Œå¿ƒä¹Ÿè¶Šè¼•ã€‚"
      },
      {
        name: "æ¸…å¢ƒè¾²å ´ & åˆæ­¡å±±è§€æ˜Ÿ",
        region: "central", regionLabel: "ä¸­éƒ¨",
        city: "å—æŠ•ç¸£ä»æ„›é„‰",
        minDays: 2, maxDays: 3,
        tags: ["é’é’è‰åŸ", "é«˜å±±æ˜Ÿç©º", "æ¶¼çˆ½é¿æš‘"],
        tip: "ç™½å¤©çœ‹ç¾Šå’©å’©åƒè‰ï¼Œæ™šä¸Šçœ‹æ»¿å¤©æ˜Ÿæ˜Ÿã€‚å±±ä¸Šæº«åº¦åä½ï¼Œè¨˜å¾—å¸¶å¤–å¥—èˆ‡ä¿æš–è¥ªå­ã€‚"
      },
      {
        name: "å°ä¸­å¸‚å€ & å½©è™¹çœ·æ‘",
        region: "central", regionLabel: "ä¸­éƒ¨",
        city: "å°ä¸­å¸‚å—å±¯å€å‘¨é‚Š",
        minDays: 1, maxDays: 2,
        tags: ["æ–‡å‰µèšè½", "å’–å•¡å»³", "è¦ªå­å‹å–„"],
        tip: "å®‰æ’è¼•é¬†çš„åŸå¸‚æ•£æ­¥ï¼šå½©è™¹çœ·æ‘ã€å¯©è¨ˆæ–°æ‘ã€è‰æ‚Ÿé“ã€‚é¤“äº†å°±åœä¸‹ä¾†åƒä¸€é»ï¼Œå†èµ°ä¸€é»ã€‚"
      },

      // å—éƒ¨
      {
        name: "å¢¾ä¸æµ·é‚Šè—å¤©å‡æœŸ",
        region: "south", regionLabel: "å—éƒ¨",
        city: "å±æ±ç¸£æ†æ˜¥é®",
        minDays: 2, maxDays: 4,
        tags: ["æ²™ç˜æˆ²æ°´", "åœ‹å®¶å…¬åœ’", "æµ·é¢¨å¹é¢¨"],
        tip: "æ—©ä¸Šç©æ°´ã€ä¸‹åˆå¹æµ·é¢¨ã€æ™šä¸Šçœ‹æ˜Ÿæ˜Ÿã€‚è¨˜å¾—é˜²æ›¬èˆ‡è£œå……æ°´ä»½ï¼Œæ›¬é»‘æ²’é—œä¿‚ï¼Œé–‹å¿ƒæœ€é‡è¦ã€‚"
      },
      {
        name: "é«˜é›„é§äºŒ & æ„›æ²³æ•£æ­¥",
        region: "south", regionLabel: "å—éƒ¨",
        city: "é«˜é›„å¸‚é¹½åŸ•å€",
        minDays: 1, maxDays: 2,
        tags: ["æ¸¯éƒ½å¸‚æ™¯", "æ–‡å‰µå±•è¦½", "å¤œæ™¯æ•£æ­¥"],
        tip: "ç™½å¤©é€›é§äºŒã€æ™šä¸Šåˆ°æ„›æ²³èµ°èµ°ï¼Œæ‰¾å€‹ä½ç½®åä¸‹ä¾†çœ‹åŸå¸‚çš„ç‡ˆå…‰ï¼Œä¹Ÿçœ‹çœ‹æœ€è¿‘çš„è‡ªå·±ã€‚"
      },
      {
        name: "å°å—å··å¼„ç¾é£Ÿä¹‹æ—…",
        region: "south", regionLabel: "å—éƒ¨",
        city: "å°å—å¸‚ä¸­è¥¿å€å‘¨é‚Š",
        minDays: 2, maxDays: 3,
        tags: ["å°åƒå¤©å ‚", "å¤è¹Ÿè€å±‹", "æ…¢æ­¥æ—…è¡Œ"],
        tip: "ä¸€æ¬¡åƒä¸å®Œæ²’é—œä¿‚ï¼Œé€™åº§åŸå¸‚æœƒç­‰ä½ å›ä¾†ã€‚æ—…é€”ä¸­ï¼Œè¨˜å¾—å°ä¸€èµ·åƒæ±è¥¿çš„äººèªªè²è¬è¬ã€‚"
      },

      // æ±éƒ¨
      {
        name: "èŠ±è“®å¤ªé­¯é–£å³½è°·ä¹‹æ—…",
        region: "east", regionLabel: "æ±éƒ¨",
        city: "èŠ±è“®ç¸£ç§€æ—é„‰",
        minDays: 2, maxDays: 3,
        tags: ["å³½è°·æ­¥é“", "å±±æµ·æ™¯ç·»", "è‡ªç„¶ç™‚ç™’"],
        tip: "æ­¥é“å¤šç‚ºçŸ³éšèˆ‡å±±è·¯ï¼Œé‹å­è¦ç©©ï¼Œè…³æ­¥æ”¾æ…¢ã€‚æ¯å¸ä¸€å£æ°£ï¼Œéƒ½æŠŠç…©æƒ±å…ˆæ”¾åœ¨å±±ä¸‹ã€‚"
      },
      {
        name: "èŠ±æ±ç¸±è°·å°ç«è»Š",
        region: "east", regionLabel: "æ±éƒ¨",
        city: "èŠ±è“®â€“å°æ±ä¸€å¸¶",
        minDays: 3, maxDays: 4,
        tags: ["ç¨»ç”°é¢¨æ™¯", "å°é®æ—…é¤¨", "é¨è…³è¸è»Š"],
        tip: "å¯ä»¥æŒ‘ä¸€å…©å€‹å°é®å¤šå¾…ä¸€å¤©ï¼Œè®“è‡ªå·±æœ‰çœŸæ­£ç™¼å‘†çš„æ™‚é–“ã€‚ç™¼å‘†ï¼Œä¹Ÿæ˜¯å¾ˆé‡è¦çš„è¡Œç¨‹ã€‚"
      },
      {
        name: "å°æ±æµ·ç·šæ”¾ç©ºä¹‹æ—…",
        region: "east", regionLabel: "æ±éƒ¨",
        city: "å°æ±ç¸£æˆåŠŸé®ãƒ»é•·æ¿±é„‰ä¸€å¸¶",
        minDays: 2, maxDays: 3,
        tags: ["æµ·å²¸å…¬è·¯", "çœ‹æ—¥å‡º", "å’–å•¡å°åº—"],
        tip: "æ—©èµ·çœ‹ä¸€æ¬¡æµ·é‚Šæ—¥å‡ºï¼Œæé†’è‡ªå·±ï¼šæ–°çš„é–‹å§‹å…¶å¯¦æ¯å¤©éƒ½æœ‰ã€‚"
      },

      // å¤–å³¶
      {
        name: "æ¾æ¹–è·³å³¶æµ·é¢¨æ—…è¡Œ",
        region: "islands", regionLabel: "å¤–å³¶",
        city: "æ¾æ¹–ç¸£é¦¬å…¬å¸‚ä¸€å¸¶",
        minDays: 3, maxDays: 4,
        tags: ["æµ·ä¸Šæ´»å‹•", "ç„æ­¦å²©åœ°å½¢", "å¤œé–“çœ‹æ˜Ÿæ˜Ÿ"],
        tip: "è¡Œç¨‹ä¸è¦å¡å¤ªæ»¿ï¼Œç•™ä¸€äº›æ™‚é–“åªæ˜¯åè‘—çœ‹æµ·ï¼Œè·Ÿè‡ªå·±å¥½å¥½èŠå¤©ã€‚"
      },
      {
        name: "å°ç‰çƒæµ·é¾œæ…¢æ´»æ—¥å¸¸",
        region: "islands", regionLabel: "å¤–å³¶",
        city: "å±æ±ç¸£ç‰çƒé„‰",
        minDays: 2, maxDays: 3,
        tags: ["æµ®æ½›çœ‹æµ·é¾œ", "ç’°å³¶æ©Ÿè»Š", "å°å³¶æ­¥èª¿"],
        tip: "è·Ÿæµ·é¾œä¸€æ¨£æ…¢æ…¢æ¸¸ã€æ…¢æ…¢å‘¼å¸ã€‚è¨˜å¾—ä¿æŒè·é›¢ï¼Œä¸æ‰“æ“¾ç‰ å€‘çš„ç”Ÿæ´»ï¼Œå°±æ˜¯æœ€æº«æŸ”çš„ç›¸é‡ã€‚"
      },
      {
        name: "ç¶ å³¶æº«æ³‰èˆ‡å¤œè§€é¹¿",
        region: "islands", regionLabel: "å¤–å³¶",
        city: "å°æ±ç¸£ç¶ å³¶é„‰",
        minDays: 2, maxDays: 3,
        tags: ["æµ·å²¸é¢¨æ™¯", "æµ·åº•ä¸–ç•Œ", "æµ·é‚Šæº«æ³‰"],
        tip: "å¯ä»¥å®‰æ’å¤œè§€æ¢…èŠ±é¹¿ã€ç™½å¤©æ½›æ°´æˆ–æµ®æ½›ã€‚å›åˆ°æ°‘å®¿æ´—å®Œæ¾¡å¾Œï¼Œå¯«ä¸€è¡Œä»Šå¤©æœ€æ„Ÿè¬çš„äº‹é€çµ¦è‡ªå·±ã€‚"
      }
    ];

    // ç¾é£Ÿè³‡æ–™
    const foods = [
      // åŒ—éƒ¨
      {
        name: "å°åŒ—æ°¸åº·è¡—å°åƒï¼‹èŠ’æœå†°",
        region: "north", regionLabel: "åŒ—éƒ¨",
        city: "å°åŒ—å¸‚å¤§å®‰å€æ°¸åº·è¡—ä¸€å¸¶",
        tags: ["å°åƒæ•£æ­¥", "å†°å“ç”œé»", "æ·é‹å¯é”"],
        tip: "å¯ä»¥å¾æ·é‹æ±é–€ç«™èµ°èµ·ï¼Œå…ˆåƒç‰›è‚‰éºµã€å†ä¾†ä¸€ç¢—èŠ’æœå†°ï¼Œæœ€å¾Œå¸¶æ¯é£²æ–™å»å…¬åœ’åè‘—èŠå¤©ã€‚"
      },
      {
        name: "åŸºéš†å»Ÿå£å¤œå¸‚å¤§äº‚åƒ",
        region: "north", regionLabel: "åŒ—éƒ¨",
        city: "åŸºéš†å¸‚ä»æ„›å€",
        tags: ["å¤œå¸‚", "æµ·é®®", "åœ¨åœ°å°åƒ"],
        tip: "å»ºè­°å…ˆé¸å¥½æƒ³åƒçš„ 3â€“4 æ”¤ï¼Œä¸è¦æ¯æ”¤éƒ½æ’éšŠï¼Œç•™ä¸€é»è‚šå­çµ¦çªç„¶å‡ºç¾çš„é©šå–œæ”¤ä½ã€‚"
      },

      // ä¸­éƒ¨
      {
        name: "é€¢ç”²å¤œå¸‚å‰µæ„ç¾é£Ÿ",
        region: "central", regionLabel: "ä¸­éƒ¨",
        city: "å°ä¸­å¸‚è¥¿å±¯å€",
        tags: ["å¤œå¸‚", "å‰µæ„å°åƒ", "å­¸ç”Ÿæœ€æ„›"],
        tip: "å…ˆé€›ä¸€åœˆå†é–‹å§‹è²·ï¼Œå¯ä»¥é¿å…ç¬¬ä¸€æ”¤å°±åƒå¤ªé£½ã€‚å’Œæœ‹å‹è¼ªæµé»ä¸åŒçš„æ±è¥¿åˆ†è‘—åƒæœ€åˆ’ç®—ã€‚"
      },
      {
        name: "å‹¤ç¾ç¶ åœ’é“å’–å•¡å»³ä¸‹åˆèŒ¶",
        region: "central", regionLabel: "ä¸­éƒ¨",
        city: "å°ä¸­å¸‚è¥¿å€",
        tags: ["å’–å•¡ç”œé»", "æ–‡é’è·¯ç·š", "æ•£æ­¥æ”¾ç©º"],
        tip: "æ‰¾ä¸€é–“æœ‰å¤§ç‰‡è½åœ°çª—çš„å’–å•¡å»³ï¼Œè®“è‡ªå·±å…‰æ˜æ­£å¤§åœ°ä»€éº¼äº‹éƒ½ä¸åšï¼Œåªè¦æ…¢æ…¢åƒè›‹ç³•å°±å¥½ã€‚"
      },

      // å—éƒ¨
      {
        name: "å°å—å··å¼„æ—©é¤ï¼‹å¤æ—©å‘³å°åƒ",
        region: "south", regionLabel: "å—éƒ¨",
        city: "å°å—å¸‚ä¸­è¥¿å€",
        tags: ["æ—©åˆé¤", "å¤æ—©å‘³", "å°åƒå¤©å ‚"],
        tip: "å°å—é©åˆå¾æ—©é¤å°±é–‹å§‹åƒï¼Œç‰›è‚‰æ¹¯ã€é‹ç‡’æ„éºµã€é­šæ¹¯è¼ªæµä¾†ã€‚åƒå®Œè¨˜å¾—èµ°é€²å··å­è£¡æ™ƒä¸€åœˆã€‚"
      },
      {
        name: "é«˜é›„é¹½åŸ•å€è€åº—ç¾é£Ÿ",
        region: "south", regionLabel: "å—éƒ¨",
        city: "é«˜é›„å¸‚é¹½åŸ•å€",
        tags: ["è€å­—è™Ÿ", "å†°å“", "æ¸¯é‚Šæ•£æ­¥"],
        tip: "å†°å“å’Œéºµåº—å¯ä»¥éŒ¯é–‹æ™‚é–“åƒï¼Œåˆ¥å¿˜äº†å»æ„›æ²³æˆ–æ¸¯é‚Šæ•£æ­¥ï¼Œè®“è‚šå­æœ‰é»ç©ºä½è£ç”œé»ã€‚"
      },

      // æ±éƒ¨
      {
        name: "èŠ±è“®æ±å¤§é–€å¤œå¸‚åƒä¸€åœˆ",
        region: "east", regionLabel: "æ±éƒ¨",
        city: "èŠ±è“®å¸‚å€",
        tags: ["å¤œå¸‚", "åŸä½æ°‘é¢¨å‘³", "éŠæˆ²æ”¤ä½"],
        tip: "å¯ä»¥å…ˆé–å®šå¹¾æ”¤æ’éšŠçš„äººå¤šçš„åº—ï¼Œä½†ä¸è¦å…¨éƒ¨éƒ½åƒç‚¸ç‰©ã€‚ç•™ä¸€ä»½èƒƒçµ¦å¥½åƒçš„éº»ç³¬æˆ–å†°ã€‚"
      },
      {
        name: "å°æ±éƒ½è˜­å°é…’é¤¨ & å’–å•¡",
        region: "east", regionLabel: "æ±éƒ¨",
        city: "å°æ±ç¸£éƒ½è˜­ä¸€å¸¶",
        tags: ["æµ·é‚Šå°åº—", "è¼•é£Ÿ", "éŸ³æ¨‚æ°£æ°›"],
        tip: "é»ƒæ˜æ™‚å…ˆåˆ°æµ·é‚Šçœ‹æµ·ï¼Œå†èµ°é€²å°åº—åƒé»æ±è¥¿ã€è½éŸ³æ¨‚ã€‚å¿ƒæƒ…æ”¾é¬†æ¯”åƒå¾ˆå¤šé‚„é‡è¦ã€‚"
      },

      // å¤–å³¶
      {
        name: "æ¾æ¹–æµ·é®®å¤§é¤ï¼‹ä»™äººæŒå†°",
        region: "islands", regionLabel: "å¤–å³¶",
        city: "æ¾æ¹–ç¸£é¦¬å…¬å¸‚",
        tags: ["æµ·é®®", "åœ¨åœ°ç”œé»", "å³¶å¶¼é¢¨å‘³"],
        tip: "æ–°é®®æµ·é®®å»ºè­°å¤šäººåˆ†äº«ï¼Œå¤§å®¶ä¸€èµ·åˆ†é£Ÿæ¯”è¼ƒèƒ½åƒåˆ°æ›´å¤šç¨®é¡ã€‚æœ€å¾Œä¸€å®šè¦ä¾†ä¸€æ”¯ä»™äººæŒå†°ã€‚"
      },
      {
        name: "å°ç‰çƒæµ·é¾œå³¶æ—©é¤å·¡ç¦®",
        region: "islands", regionLabel: "å¤–å³¶",
        city: "å±æ±ç¸£ç‰çƒé„‰",
        tags: ["å³¶ä¸Šæ—©é¤åº—", "æ‰‹æ–é£²", "æ©Ÿè»Šæ…¢éŠ"],
        tip: "æ—©èµ·é¨è»Šç¹å³¶ï¼Œçœ‹åˆ°å–œæ­¡çš„æ—©é¤åº—å°±åœä¸‹ä¾†ã€‚é‚Šåƒé‚Šçœ‹æµ·ï¼Œä»Šå¤©å°±ç®—éå¾—å¾ˆå……å¯¦äº†ã€‚"
      }
    ];

    // ç†Šç†Šéš¨æ©Ÿå°èªï¼ˆé€šç”¨ï¼‰
    const bubbleMessages = [
      "ğŸ» ç†Šç†Šèªªï¼šä¸æ˜¯ä¸€å®šè¦èµ°å¾ˆé ï¼Œèƒ½è®“ä½ è¦ºå¾—æ”¾é¬†çš„åœ°æ–¹ï¼Œå°±æ˜¯å¥½åœ°æ–¹ã€‚",
      "ğŸ» ç†Šç†Šèªªï¼šè¡Œç¨‹æ’ä¸€é»ç©ºç™½ï¼Œè®“é©šå–œæœ‰æ©Ÿæœƒæ’éšŠé€²ä¾†å‘€ã€‚",
      "ğŸ» ç†Šç†Šèªªï¼šç´¯äº†å°±æ…¢ä¸€é»ï¼Œæ—…è¡Œä¸æ˜¯æ¯”é€Ÿåº¦ï¼Œè€Œæ˜¯çœ‹ä½ æœ‰æ²’æœ‰å¥½å¥½æ„Ÿå—ã€‚",
      "ğŸ» ç†Šç†Šèªªï¼šä¸€èµ·åƒé£¯çš„æ™‚å…‰ï¼Œæ¯”åƒåˆ°ä»€éº¼æ›´é‡è¦ã€‚",
      "ğŸ» ç†Šç†Šèªªï¼šå°±ç®—åªæ˜¯ä¸€æ—¥å°æ•£æ­¥ï¼‹è·¯é‚Šå°åƒï¼Œä¹Ÿæ˜¯åœ¨ç‚ºè‡ªå·±å……é›»å–”ã€‚"
    ];

    // DOM å–å¾—
    const bubble = document.getElementById("bubble");
    const tabButtons = document.querySelectorAll(".tab-btn");
    const panelTravel = document.getElementById("panel-travel");
    const panelFood = document.getElementById("panel-food");
    const plusOne = document.getElementById("plusOne");

    // æ—…éŠ DOM
    const regionChipsTravel = document.querySelectorAll("#regionChipsTravel .chip");
    const daysChipsTravel = document.querySelectorAll("#daysRowTravel .day-chip");
    const drawTravelBtn = document.getElementById("drawTravelBtn");
    const loadingTravel = document.getElementById("loadingTravel");
    const resultTravel = document.getElementById("resultTravel");
    const travelName = document.getElementById("travelName");
    const travelRegion = document.getElementById("travelRegion");
    const travelCity = document.getElementById("travelCity");
    const travelDays = document.getElementById("travelDays");
    const travelTags = document.getElementById("travelTags");
    const travelTip = document.getElementById("travelTip");
    const historyTravel = document.getElementById("historyTravel");
    const countTravel = document.getElementById("countTravel");

    // ç¾é£Ÿ DOM
    const regionChipsFood = document.querySelectorAll("#regionChipsFood .chip");
    const drawFoodBtn = document.getElementById("drawFoodBtn");
    const loadingFood = document.getElementById("loadingFood");
    const resultFood = document.getElementById("resultFood");
    const foodName = document.getElementById("foodName");
    const foodRegion = document.getElementById("foodRegion");
    const foodCity = document.getElementById("foodCity");
    const foodTags = document.getElementById("foodTags");
    const foodTip = document.getElementById("foodTip");
    const historyFood = document.getElementById("historyFood");
    const countFood = document.getElementById("countFood");

    // ç‹€æ…‹
    let travelCount = 0;
    let foodCount = 0;
    let travelHistory = [];
    let foodHistory = [];

    // é»æ°£æ³¡æ›å¥è©±
    bubble.addEventListener("click", () => {
      const msg = bubbleMessages[Math.floor(Math.random() * bubbleMessages.length)];
      bubble.textContent = msg;
    });

    // åˆ†é åˆ‡æ›
    tabButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        tabButtons.forEach(b => b.classList.remove("active"));
        btn.classList.add("active");

        const tab = btn.dataset.tab;
        if (tab === "travel") {
          panelTravel.classList.add("active");
          panelFood.classList.remove("active");
        } else {
          panelFood.classList.add("active");
          panelTravel.classList.remove("active");
        }
      });
    });

    // å€åŸŸ chip åˆ‡æ›ï¼ˆæ—…éŠï¼‰
    regionChipsTravel.forEach(chip => {
      chip.addEventListener("click", () => {
        regionChipsTravel.forEach(c => c.classList.remove("active"));
        chip.classList.add("active");
      });
    });

    // å¤©æ•¸ chip åˆ‡æ›ï¼ˆæ—…éŠï¼‰
    daysChipsTravel.forEach(chip => {
      chip.addEventListener("click", () => {
        daysChipsTravel.forEach(c => c.classList.remove("active"));
        chip.classList.add("active");
      });
    });

    // å€åŸŸ chip åˆ‡æ›ï¼ˆç¾é£Ÿï¼‰
    regionChipsFood.forEach(chip => {
      chip.addEventListener("click", () => {
        regionChipsFood.forEach(c => c.classList.remove("active"));
        chip.classList.add("active");
      });
    });

    function getSelectedRegionTravel() {
      const active = document.querySelector("#regionChipsTravel .chip.active");
      return active ? active.dataset.region : "all";
    }
    function getSelectedDaysTravel() {
      const active = document.querySelector("#daysRowTravel .day-chip.active");
      return active ? active.dataset.days : "1";
    }
    function getSelectedRegionFood() {
      const active = document.querySelector("#regionChipsFood .chip.active");
      return active ? active.dataset.region : "all";
    }

    // å…±ç”¨ +1 å‹•ç•«
    function triggerPlusOne(symbolText) {
      plusOne.textContent = "+1 " + symbolText;
      plusOne.classList.remove("show");
      void plusOne.offsetWidth;
      plusOne.classList.add("show");
    }

    // æŠ½æ—…éŠç±¤
    drawTravelBtn.addEventListener("click", () => {
      const region = getSelectedRegionTravel();
      let days = getSelectedDaysTravel();

      if (days === "auto") {
        const randomDays = [1,2,3,4][Math.floor(Math.random() * 4)];
        days = String(randomDays);
      }
      const daysNum = parseInt(days, 10);

      let pool = attractions;
      if (region !== "all") {
        pool = attractions.filter(a => a.region === region);
      }

      let filtered = pool.filter(a => daysNum >= a.minDays && daysNum <= a.maxDays);
      if (filtered.length === 0) filtered = pool;

      const picked = filtered[Math.floor(Math.random() * filtered.length)];

      resultTravel.style.display = "none";
      loadingTravel.style.display = "flex";
      drawTravelBtn.disabled = true;

      setTimeout(() => {
        loadingTravel.style.display = "none";
        drawTravelBtn.disabled = false;
        showTravelResult(picked, daysNum);
        travelCount++;
        countTravel.textContent = travelCount;
        triggerPlusOne("ğŸ§³");
        updateTravelHistory(picked, daysNum);
      }, 900);
    });

    function showTravelResult(spot, daysNum) {
      travelName.textContent = spot.name;
      travelRegion.textContent = spot.regionLabel;
      travelCity.textContent = `ğŸ“ ä½åœ¨ï¼š${spot.city}`;

      let dayText = `å»ºè­°åœç•™ï¼š${spot.minDays}â€“${spot.maxDays} å¤©`;
      if (!isNaN(daysNum)) {
        dayText += `ï¼ˆä½ ç¾åœ¨æƒ³ç©ç´„ ${daysNum} å¤©ï¼‰`;
      }
      travelDays.textContent = dayText;

      travelTags.innerHTML = "";
      spot.tags.forEach(t => {
        const span = document.createElement("span");
        span.className = "tag";
        span.textContent = "#" + t;
        travelTags.appendChild(span);
      });

      travelTip.textContent = spot.tip;
      resultTravel.style.display = "block";
    }

    function updateTravelHistory(spot, daysNum) {
      const record = {
        name: spot.name,
        regionLabel: spot.regionLabel,
        daysText: `${spot.minDays}â€“${spot.maxDays} å¤©ï¼ˆä½ æƒ³ ${daysNum} å¤©ï¼‰`
      };
      travelHistory.unshift(record);
      if (travelHistory.length > 3) travelHistory.pop();

      if (!travelHistory.length) {
        historyTravel.className = "history-empty";
        historyTravel.textContent = "é‚„æ²’æœ‰ç´€éŒ„ï¼Œå…ˆè®“æ„›åƒç†Šå¹«ä½ æŠ½ä¸€å¼µæ—…éŠç±¤å§ï½";
        return;
      }

      historyTravel.className = "";
      historyTravel.innerHTML = "";
      travelHistory.forEach(item => {
        const div = document.createElement("div");
        div.className = "history-item";
        div.innerHTML = `
          <div class="history-item-title">ğŸ“ ${item.name}</div>
          <div class="history-item-meta">${item.regionLabel} Â· å»ºè­° ${item.daysText}</div>
        `;
        historyTravel.appendChild(div);
      });
    }

    // æŠ½ç¾é£Ÿç±¤
    drawFoodBtn.addEventListener("click", () => {
      const region = getSelectedRegionFood();
      let pool = foods;
      if (region !== "all") {
        pool = foods.filter(f => f.region === region);
      }
      if (!pool.length) pool = foods;

      const picked = pool[Math.floor(Math.random() * pool.length)];

      resultFood.style.display = "none";
      loadingFood.style.display = "flex";
      drawFoodBtn.disabled = true;

      setTimeout(() => {
        loadingFood.style.display = "none";
        drawFoodBtn.disabled = false;
        showFoodResult(picked);
        foodCount++;
        countFood.textContent = foodCount;
        triggerPlusOne("ğŸ´");
        updateFoodHistory(picked);
      }, 900);
    });

    function showFoodResult(food) {
      foodName.textContent = food.name;
      foodRegion.textContent = food.regionLabel;
      foodCity.textContent = `ğŸ½ æ¨è–¦åœ°é»ï¼š${food.city}`;

      foodTags.innerHTML = "";
      food.tags.forEach(t => {
        const span = document.createElement("span");
        span.className = "tag";
        span.textContent = "#" + t;
        foodTags.appendChild(span);
      });

      foodTip.textContent = food.tip;
      resultFood.style.display = "block";
    }

    function updateFoodHistory(food) {
      const record = {
        name: food.name,
        regionLabel: food.regionLabel,
        city: food.city
      };
      foodHistory.unshift(record);
      if (foodHistory.length > 3) foodHistory.pop();

      if (!foodHistory.length) {
        historyFood.className = "history-empty";
        historyFood.textContent = "é‚„æ²’æœ‰ç´€éŒ„ï¼Œè®“æ„›åƒç†Šå…ˆå¹«ä½ æŠ½ä¸€å¼µç¾é£Ÿç±¤å§ï½";
        return;
      }

      historyFood.className = "";
      historyFood.innerHTML = "";
      foodHistory.forEach(item => {
        const div = document.createElement("div");
        div.className = "history-item";
        div.innerHTML = `
          <div class="history-item-title">ğŸ´ ${item.name}</div>
          <div class="history-item-meta">${item.regionLabel} Â· ${item.city}</div>
        `;
        historyFood.appendChild(div);
      });
    }
  </script>
</body>
</html>